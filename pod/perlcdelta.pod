=encoding utf8

=head1 NAME

perlcdelta - what is new for cperl v5.24.4

=head1 DESCRIPTION

This document describes the differences between the cperl 5.24.4c
and the cperl 5.24.3c releases.

If you are upgrading from an earlier release such as v5.24.2c, first
read the L<perl5243cdelta> documentation, which describes differences
between v5.24.3c and v5.24.2c.

=head1 Security

=head2 [CVE-2018-6797] heap-buffer-overflow (WRITE of size 1) in S_regatom (regcomp.c)

A crafted regular expression could cause a heap buffer write overflow, with
control over the bytes written.
L<[perl #132227]|https://rt.perl.org/Public/Bug/Display.html?id=132227>

=head2 [CVE-2018-6798] Heap-buffer-overflow in Perl__byte_dump_string (utf8.c)

Matching a crafted locale dependent regular expression could cause a heap
buffer read overflow and potentially information disclosure.
L<[perl #132063]|https://rt.perl.org/Public/Bug/Display.html?id=132063>

=head2 [CVE-2018-6913] heap-buffer-overflow in S_pack_rec

C<pack()> could cause a heap buffer write overflow with a large item count.
L<[perl #131844]|https://rt.perl.org/Public/Bug/Display.html?id=131844>

=head2 Assertion failure in Perl__core_swash_init (utf8.c)

Control characters in a supposed Unicode property name could cause perl to
crash.  This has been fixed.
L<[perl #132055]|https://rt.perl.org/Public/Bug/Display.html?id=132055>
L<[perl #132553]|https://rt.perl.org/Public/Bug/Display.html?id=132553>
L<[perl #132658]|https://rt.perl.org/Public/Bug/Display.html?id=132658>

=head1 Incompatible Changes

There are no changes intentionally incompatible with 5.24.3c.  If any exist,
they are bugs, and we request that you submit a report.  See L</Reporting
Bugs> below.

=head1 Modules and Pragmata

=head2 Updated Modules and Pragmata

=over 4

=item L<Archive::Tar> 2.30

'0' is a valid name for an archive, change 'iter' to check definedness.
See L<https://metacpan.org/changes/distribution/Archive-Tar>

Fix creating file with trailing whitespace on filename - fixes 103279

Allow archiving with absolute pathnames - fixes 97748

Small POD fix

Speed up extract when archive contains lots of files

CVE-2018-12015 directory traversal vulnerability
L<[cpan #125523]|https://rt.cpan.org/Ticket/Display.html?id=125523>

=item L<Attribute::Handlers> 1.00_01

Remove deprecated no-op attributes :unique, :locked

Fix autovivification bug with hash slice args to a function.

=item L<B::Xref> 1.07_02

Support sub refs, and named anon subs.

=item L<bytes> 1.06

=item L<Compress::Raw::Bzip2> 2.081

Support pgcc, seperate it from gcc

=item L<Compress::Raw::Zlib> 2.081

Support pgcc, seperate it from gcc

Updated internal zlib from 1.2.8 to latest, past 1.2.11

Silence gcc compiler warnings when -Wsign-compare is enabled
#123688: Compilation warnings with clang

Silence gcc compiler warnings when -Wimplicit-fallthrough is enabled
#123358: Compilation warnings with gcc-7.*

Windows uses -lzlib. Linux uses -lz
#123699: wrong external zlib name used on Windows

Update zlib-src directory to use zlib 1.2.11
#123245: perl 5.26.1 is vulnerable to CVE-2016-9843, CVE-2016-9841, CVE-2016-9840, CVE-2016-9842

Don't allow offset to be greater than length of buffer in crc32.

Change my_zcalloc to use safecalloc.
L<https://github.com/madler/zlib/issues/253> is the upstream report for the remaining 
valgrind errors not already dealt with by 1.2.11. Using calloc in Zlib.xs for now as a workaround.
#121074: valgrind errors in the test suite

Fixed upstream deflate. See L<https://github.com/madler/zlib/pull/327>
1.2.11 is not recommended to use.

=item L<CPAN> 2.20_01

From 5.28.0c
See L<https://github.com/andk/cpanpm/pull/109>

=item L<ExtUtils::Constant> 1.25_01

fix failed to extend arg stack

=back

=head1 Selected Bug Fixes

=over 4

=item *

Fixed missing compile-time AvSHAPED detection in nested scopes.
E.g.:

    my @a[1]; sub { $a[0]->[5] = 1 }->(); # mderef_u
    my @b[1]; sub { $b[0] = 1 }->();      # aelemfast_lex_u

See L<[cperl #354]|https://github.com/perl11/cperl/issues/354>.

=item *

The C<readpipe()> built-in function now checks at compile time that it has only
one parameter expression, and puts it in scalar context, thus ensuring that it
doesn't corrupt the stack at runtime.
L<[perl #4574]|https://rt.perl.org/Public/Bug/Display.html?id=4574>

=item *

C<re_intuit_start()> was fixed for non-utf8 targets to ignore the utf8 folding rules.

=back

=head1 Acknowledgements

Generated with:

    cperl Porting/acknowledgements.pl cperl-5.24.3..HEAD

=head1 Reporting Bugs

If you find what you think is a bug, you might check the articles recently
posted to the comp.lang.perl.misc newsgroup and the perl bug database at
L<https://rt.perl.org/> .  There may also be information at
L<http://www.perl.org/> , the Perl Home Page.

If you believe you have an unreported bug, please run the L<cperlbug> program
included with your release.  Be sure to trim your bug down to a tiny but
sufficient test case.  Your bug report, along with the output of C<perl -V>,
will be sent off to perlbug@perl.org to be analysed by the Perl porting team.

If you think it's a cperl specific bug or trust the cperl developers more 
please file an issue at L<https://github.com/perl11/cperl/issues>.

If the bug you are reporting has security implications which make it
inappropriate to send to a publicly archived mailing list, then see
L<perlsec/SECURITY VULNERABILITY CONTACT INFORMATION>
For details of how to report the issue.

=head1 SEE ALSO

The F<Changes> file for an explanation of how to view exhaustive details on
what changed.

The F<INSTALL> file for how to build Perl.

The F<README> file for general stuff.

The F<Artistic> and F<Copying> files for copyright information.

=cut
